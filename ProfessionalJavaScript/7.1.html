<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
<pre>
  
</pre>
<script type="text/javascript">

// 7 函数表达式

/*
  function functionName(arg0, arg1, arg2) { 
      //函数体 
  }

  //只在 Firefox、Safari、Chrome 和 Opera 有效 
  alert(functionName.name);  //"functionName"
*/

  // 函数声明提升


// 7.1 递归
/*
    function factorial(num){ 
        if (num <= 1){ 
            return 1; 
        } else { 
            return num * factorial(num-1); 
        } 
    }    


    var anotherFactorial = factorial; 
    factorial = null; 
    alert(anotherFactorial(4)); //出错
*/

/*
    // "use strict"
    
    // function factorial(num){ 
    //     if (num <= 1){ 
    //         return 1; 
    //     } else { 
    //         return num * arguments.callee(num-1); 
    //     } 
    // }

    //命名函数表达式
    var factorial = (function f(num){ 
        if (num <= 1){  
            return 1; 
        } else { 
            return num * f(num-1); 
        } 
    });

    var anotherFactorial = factorial; 
    factorial = null; 
    alert(anotherFactorial(4));
*/

// 7.2 闭包

/*    
    function createComparisonFunction(propertyName) { 
         
        return function(object1, object2){ 
            var value1 = object1[propertyName]; 
            var value2 = object2[propertyName]; 
             
            if (value1 < value2){ 
                return -1; 
            } else if (value1 > value2){ 
                return 1; 
            } else { 
                return 0; 
            } 
        }; 
    }

    //创建函数 
    var compareNames = createComparisonFunction("name"); 
     
    //调用函数 
    var result = compareNames({ name: "Nicholas" }, { name: "Greg" }); 
     
    //解除对匿名函数的引用（以便释放内存） 
    compareNames = null;
*/

// 7.2.1 闭包与变量 

/*
    function createFunctions(){ 
        var result = new Array(); 
     
        for (var i=0; i < 10; i++){ 
            result[i] = function(num){ 
                return function(){ 
                    return num; 
                }; 
            }(i); 
        } 
     
        return result; 
    }
*/

// 7.2.2 关于this对象

    // 匿名函数的执行环境具有全局性
    // 每个函数在被调用时都会自动取得两个特殊变量：this 和 arguments
/*    
    var name = "The Window"; 
     
    var object = { 
        name : "My Object", 
     
        getNameFunc : function(){ 
            var that = this; 
            return function(){ 
                return that.name; 
            }; 
        } 
    }; 
     
    alert(object.getNameFunc()());  //"My Object"
*/

/*
    var name = "The Window"; 
     
    var object = { 
        name : "My Object", 
     
        getName: function(){ 
            return this.name; 
        } 
    };

    object.getName();   //"My Object" 
    (object.getName)(); //"My Object" 
    (object.getName = object.getName)(); //"The Window"，在非严格模式下
*/

// 7.2.3 内存泄漏

/*
    function assignHandler(){ 
        var element = document.getElementById("someElement"); 
        var id = element.id; 
         
        element.onclick = function(){ 
            alert(id); 
        }; 
         
        element = null; 
    }

*/

// 7.3 模仿块级作用域

/*
    function outputNumbers(count){ 
        for (var i=0; i < count; i++){ 
            alert(i); 
        } 
        alert(i);   //计数 
    }
*/
/*
    function outputNumbers(count){ 
        for (var i=0; i < count; i++){ 
            alert(i); 
        } 
         
        var i;      //重新声明变量 
        alert(i);   //计数 
    }

    outputNumbers(3);
    //JavaScript从来不会告诉你是否多次声明了同一个变量；
    // 遇到这种情况，它只会对后续的声明视而不见（不过，它会执行后续声明中的变量初始化） 
*/


/*
    (function(){ 
        //这里是块级作用域 
    })(); 
*/
     
    //以上代码定义并立即调用了一个匿名函数。将函数声明包含在一对圆括号中，表示它实际上是一个
    //函数表达式。而紧随其后的另一对圆括号会立即调用这个函数

    // 函数表达式的后面可以跟圆括号

/*
    (function(){ 
         
        var now = new Date(); 
        if (now.getMinutes() == 12){ 
            alert("现在时间是" + now); 
        } 
     
    })();
*/


























</script>
</body>
</html>