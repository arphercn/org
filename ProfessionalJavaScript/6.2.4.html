<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
<pre>
  
</pre>
<script type="text/javascript">

// 6.2.4 组合使用构造函数模式和原型模式

  // 构造函数模式用于定义实例属性，而原型模式用于定义方法和共享的属性
  /*  
    function Person(name, age, job){ 
        this.name = name; 
        this.age = age; 
        this.job = job; 
        this.friends = ["Shelby", "Court"]; 
    } 
     
    Person.prototype = { 
        constructor : Person, 
        sayName : function(){ 
            alert(this.name); 
        } 
    } 
     
    var person1 = new Person("Nicholas", 29, "Software Engineer"); 
    var person2 = new Person("Greg", 27, "Doctor"); 
     
    person1.friends.push("Van"); 
    alert(person1.friends);    //"Shelby,Count,Van" 
    alert(person2.friends);    //"Shelby,Count" 
    alert(person1.friends === person2.friends);    //false 
    alert(person1.sayName === person2.sayName);    //true

    //目前在 ECMAScript中使用最广泛、认同度最高的一种创建自定义类型的方法
  */  

  // 6.2.5 动态原型模式
  /*
    function Person(name, age, job){ 
     
        //属性 
        this.name = name; 
        this.age = age; 
        this.job = job;
        //方法 
        if (typeof this.sayName != "function"){ 
         
            Person.prototype.sayName = function(){ 
                alert(this.name); 
            }; 
             
        } 
    } 
     
    var friend = new Person("Nicholas", 29, "Software Engineer"); 
    friend.sayName();
  */  

  // 6.2.6 寄生构造函数模式

  /*
    function Person(name, age, job){ 
        var o = new Object(); 
        o.name = name; 
        o.age = age; 
        o.job = job; 
        o.sayName = function(){ 
            alert(this.name); 
        };     
        return o; 
    } 
     
    var friend = new Person("Nicholas", 29, "Software Engineer"); 
    friend.sayName();  //"Nicholas"

    // 这个模式跟工厂模式其实是一模一样的
  */  

  /*       
    // 创建一个具有额外方法的特殊数组 (扩展另一个Array)

    function SpecialArray(){ 
     
        //创建数组 
        var values = new Array(); 
     
        //添加值 
        values.push.apply(values, arguments); 
     
        //添加方法 
        values.toPipedString = function(){ 
            return this.join("|"); 
        }; 
         
        //返回数组 
        return values; 
    } 
     
    var colors = new SpecialArray("red", "blue", "green"); 
    alert(colors.toPipedString()); //"red|blue|green"
  */  

    // 不能依赖 instanceof 操作符来确定对象类型


  // 稳妥构造函数模式 durable objects

    function Person(name, age, job){ 
         
        //创建要返回的对象 
        var o = new Object();

        //可以在这里定义私有变量和函数 
     
        //添加方法 
        o.sayName = function(){ 
            alert(name); 
        };     
         
        //返回对象 
        return o; 
    }













</script>
</body>
</html>